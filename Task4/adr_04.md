### **Документ:** ADR_04

### **Название задачи:** Выбор конкретной имплементации из предложенных альтернатив.

### **Автор:** Егоров Антон
### **Дата:** 05.11.2025


### **Проблема**

Заказчикам были представлены два основных варианта реализации системы мониторинга поголовья скота: базовая версия и версия с упрощённой имплементацией на стороне агента (фермы). Требуется выбрать наиболее подходящий вариант с учётом требований и ограничений проекта.

См. [ADR_01](./../Task1/adr_01.md)
См. [ADR_02](./../Task2/adr_02.md)
См. [ADR_03](./../Task3/adr_03.md)


### **Функциональные требования**

См. [ADR_01](./../Task1/adr_01.md)


### **Нефункциональные требования**

См. [ADR_01](./../Task1/adr_01.md)


### **Решение**

- Система намеренно проектируется с нуля (по требованиям заказчика), что позволяет не ограничиваться существующими решениями или платформами.
- На первом этапе необходимо было определить необходимость каждой из основных составляющих системы: **центральная система** для хранения и обработки данных, **агенты на стороне ферм** для сбора данных и взаимодействия с оборудованием, **брокер сообщений** для обеспечения передачи данных между центральной системой и агентами.
  - Было решено сохранить центральную систему как единый компонент, отвечающий за обработку и хранение данных, а также предоставление API для взаимодействия с внешними системами. Отсутствие единой центральной системы усложнило бы управление множеством агентов и синхронизацию данных.
  - Было решено использовать полноценную агентскую систему на стороне ферм, несмотря на увеличение сложности разработки и поддержки. Это позволяет обеспечить автономность работы агентов, что критично в условиях возможных перебоев с интернет-соединением.
  - Было решено использовать брокер сообщений для обеспечения надёжной и масштабируемой передачи данных между центральной системой и агентами. Это позволяет легко добавлять новые фермы и компоненты в систему без значительных изменений в архитектуре.
- Было решено оставить брокер сообщений и управляющий контейнер на стороне агента (фермы). Этот вариант обеспечивает лучшую масштабируемость, гибкость и возможность интеграции новых компонентов в будущем на стороне агента.
- Увеличенная сложность разработки и поддержки системы на стороне агента компенсируется переиспользованием данной архитектуры неограничным числом ферм, что снижает общие затраты на разработку и поддержку в долгосрочной перспективе.
- Выбранный вариант повышает автономность системы на ферме, что особенно важно в условиях возможных перебоев с интернет-соединением.


### **Альтернативы**

- Альтернативой могло бы быть переиспользование существующих решений в компании-заказчике, однако существующая архитектура спроектирована для решения иных задач, что создало бы значительные сложности при интеграции и адаптации к новым требованиям.
